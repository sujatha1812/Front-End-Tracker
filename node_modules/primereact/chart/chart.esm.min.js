import*as t from"react";import{useUnmountEffect as e}from"primereact/hooks";import{ObjectUtils as r,classNames as n}from"primereact/utils";function u(){return u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u.apply(this,arguments)}var a=t.memo(t.forwardRef((function(i,l){var o=t.useRef(null),c=t.useRef(null);t.useImperativeHandle(l,(function(){return{getCanvas:function(){return c.current},getChart:function(){return o.current},getBase64Image:function(){return o.current.toBase64Image()},generateLegend:function(){return o.current&&o.current.generateLegend()},refresh:function(){return o.current&&o.current.update()}}})),t.useEffect((function(){import("chart.js/auto").then((function(t){o.current&&(o.current.destroy(),o.current=null),t&&t.default&&(o.current=new t.default(c.current,{type:i.type,data:i.data,options:i.options,plugins:i.plugins}))}))})),e((function(){o.current&&(o.current.destroy(),o.current=null)}));var s=r.findDiffKeys(i,a.defaultProps),f=n("p-chart",i.className),p=Object.assign({width:i.width,height:i.height},i.style);return t.createElement("div",u({id:i.id,style:p,className:f},s),t.createElement("canvas",{ref:c,width:i.width,height:i.height}))})),(function(t,e){return t.data===e.data&&t.options===e.options&&t.type===e.type}));a.displayName="Chart",a.defaultProps={__TYPE:"Chart",id:null,type:null,data:null,options:null,plugins:null,width:null,height:null,style:null,className:null};export{a as Chart};
