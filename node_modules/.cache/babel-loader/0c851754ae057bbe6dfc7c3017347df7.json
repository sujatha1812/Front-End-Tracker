{"ast":null,"code":"import axios from \"axios\";\nimport { ATTENDANCE_REQUEST, ATTENDANCE_SUCCESS, ATTENDANCE_FAIL, STUDENT_DETAIL_REQUEST, STUDENT_DETAIL_SUCCESS, STUDENT_DETAIL_FAIL, STUDENT_DATA_REQUEST, STUDENT_DATA_SUCCESS, STUDENT_DATA_FAIL, CHECKOUT_UPDATE_REQUEST, CHECKOUT_UPDATE_SUCCESS, CHECKOUT_UPDATE_FAIL } from \"./actionTypes\";\nexport const GenerateCode = () => {\n  return async (dispatch, getState) => {\n    const {\n      userInfo\n    } = getState().userLogin;\n\n    try {\n      dispatch({\n        type: ATTENDANCE_REQUEST\n      });\n      const config = {\n        credentials: \"include\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: `${userInfo.token}`\n        }\n      };\n      const {\n        data\n      } = await axios.get(\"/generate-code\", config);\n      dispatch({\n        type: ATTENDANCE_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      dispatch({\n        type: ATTENDANCE_FAIL,\n        payload: error.response.data.message\n      });\n    }\n  };\n};\n_c = GenerateCode;\nexport const getstudentDetail = id => {\n  return async (dispatch, getState) => {\n    const {\n      userInfo\n    } = getState().userLogin;\n\n    try {\n      dispatch({\n        type: STUDENT_DETAIL_REQUEST\n      });\n      const config = {\n        headers: {\n          authorization: `${userInfo.token}`\n        }\n      };\n      const {\n        data\n      } = await axios.get(`/get-student-detail/${id}`, config);\n      dispatch({\n        type: STUDENT_DETAIL_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      dispatch({\n        type: STUDENT_DETAIL_FAIL,\n        payload: error.response && error.response.data.message\n      });\n    }\n  };\n};\nexport const getstudentData = () => {\n  return async (dispatch, getState) => {\n    const {\n      userInfo\n    } = getState().userLogin;\n\n    try {\n      dispatch({\n        type: STUDENT_DATA_REQUEST\n      });\n      const config = {\n        headers: {\n          authorization: `${userInfo.token}`\n        },\n        params: {\n          id: JSON.parse(sessionStorage.getItem(\"id\"))\n        }\n      };\n      const {\n        data\n      } = await axios.get('/get-student-data', config);\n      dispatch({\n        type: STUDENT_DATA_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      dispatch({\n        type: STUDENT_DATA_FAIL,\n        payload: error.response && error.response.data.message\n      });\n    }\n  };\n};\nexport const updateCheckout = checkOutTime => {\n  return async (dispatch, getState) => {\n    const {\n      userInfo\n    } = getState().userLogin;\n\n    try {\n      dispatch({\n        type: CHECKOUT_UPDATE_REQUEST,\n        loading: true\n      });\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: `${userInfo.token}`\n        }\n      };\n      const {\n        data\n      } = await axios.put(\"/check-out\", checkOutTime, config);\n      dispatch({\n        type: CHECKOUT_UPDATE_SUCCESS,\n        payload: data\n      });\n    } catch (error) {\n      dispatch({\n        type: CHECKOUT_UPDATE_FAIL,\n        loading: false,\n        error: error.response && error.response.data.message\n      });\n    }\n  };\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"GenerateCode\");","map":{"version":3,"sources":["/home/asplap1462/Desktop/Documents/Tasks/task1/project-31/Frontend/src/redux/actions/attendance/attendanceaction.js"],"names":["axios","ATTENDANCE_REQUEST","ATTENDANCE_SUCCESS","ATTENDANCE_FAIL","STUDENT_DETAIL_REQUEST","STUDENT_DETAIL_SUCCESS","STUDENT_DETAIL_FAIL","STUDENT_DATA_REQUEST","STUDENT_DATA_SUCCESS","STUDENT_DATA_FAIL","CHECKOUT_UPDATE_REQUEST","CHECKOUT_UPDATE_SUCCESS","CHECKOUT_UPDATE_FAIL","GenerateCode","dispatch","getState","userInfo","userLogin","type","config","credentials","headers","authorization","token","data","get","payload","error","response","message","getstudentDetail","id","getstudentData","params","JSON","parse","sessionStorage","getItem","updateCheckout","checkOutTime","loading","put"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport {\n    ATTENDANCE_REQUEST,\n    ATTENDANCE_SUCCESS,\n    ATTENDANCE_FAIL,\n    STUDENT_DETAIL_REQUEST,\n    STUDENT_DETAIL_SUCCESS,\n    STUDENT_DETAIL_FAIL,\n    STUDENT_DATA_REQUEST,\n    STUDENT_DATA_SUCCESS,\n    STUDENT_DATA_FAIL,\n    CHECKOUT_UPDATE_REQUEST,\n    CHECKOUT_UPDATE_SUCCESS,\n    CHECKOUT_UPDATE_FAIL\n} from \"./actionTypes\";\n\n\nexport const GenerateCode = () => {\n    return async (dispatch, getState) => {\n        const { userInfo } = getState().userLogin;\n        try {\n            dispatch({\n                type: ATTENDANCE_REQUEST,\n            });\n\n            const config = {\n                credentials: \"include\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    authorization: `${userInfo.token}`,\n\n                },\n            };\n            const { data } = await axios.get(\n                \"/generate-code\",\n                config\n            );\n            dispatch({\n                type: ATTENDANCE_SUCCESS,\n                payload: data,\n            });\n        } catch (error) {\n            dispatch({\n                type: ATTENDANCE_FAIL,\n                payload: error.response.data.message,\n            });\n        }\n    };\n};\n\nexport const getstudentDetail = (id) => {\n    return async (dispatch, getState) => {\n        const { userInfo } = getState().userLogin;\n        try {\n            dispatch({\n                type: STUDENT_DETAIL_REQUEST,\n            });\n            const config = {\n                headers: {\n                    authorization: `${userInfo.token}`,\n                },\n            };\n            const { data } = await axios.get(`/get-student-detail/${id}`, config);\n            dispatch({\n                type: STUDENT_DETAIL_SUCCESS,\n                payload: data,\n            });\n        } catch (error) {\n            dispatch({\n                type: STUDENT_DETAIL_FAIL,\n                payload: error.response && error.response.data.message,\n            });\n        }\n    };\n};\n\nexport const getstudentData = () => {\n    return async (dispatch, getState) => {\n        const { userInfo } = getState().userLogin;\n        try {\n            dispatch({\n                type: STUDENT_DATA_REQUEST,\n            });\n            const config = {\n                headers: {\n                    authorization: `${userInfo.token}`,\n                },\n                params: {\n                    id: JSON.parse(sessionStorage.getItem(\"id\")),\n                }\n            };\n            const { data } = await axios.get('/get-student-data', config);\n            dispatch({\n                type: STUDENT_DATA_SUCCESS,\n                payload: data,\n            });\n        } catch (error) {\n            dispatch({\n                type: STUDENT_DATA_FAIL,\n                payload: error.response && error.response.data.message,\n            });\n        }\n    };\n};\n\nexport const updateCheckout = (checkOutTime) => {\n    return async (dispatch, getState) => {\n        const { userInfo } = getState().userLogin;\n        try {\n            dispatch({\n                type: CHECKOUT_UPDATE_REQUEST,\n                loading: true,\n            });\n\n            const config = {\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    authorization: `${userInfo.token}`,\n                },\n            };\n            const { data } = await axios.put(\n                \"/check-out\",\n                checkOutTime,\n                config\n            );\n\n            dispatch({\n                type: CHECKOUT_UPDATE_SUCCESS,\n                payload: data,\n            });\n        } catch (error) {\n            dispatch({\n                type: CHECKOUT_UPDATE_FAIL,\n                loading: false,\n                error: error.response && error.response.data.message,\n            });\n        }\n    };\n};"]},"metadata":{},"sourceType":"module"}