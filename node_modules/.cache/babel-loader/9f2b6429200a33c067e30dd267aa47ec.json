{"ast":null,"code":"import axios from \"axios\";\nimport { ATTENDANCE_REQUEST, ATTENDANCE_SUCCESS, ATTENDANCE_FAIL, STUDENT_DETAIL_REQUEST, STUDENT_DETAIL_SUCCESS, STUDENT_DETAIL_FAIL, CHECKOUT_UPDATE_REQUEST, CHECKOUT_UPDATE_SUCCESS, CHECKOUT_UPDATE_FAIL } from \"./actionTypes\";\nexport const GenerateCode = () => {\n  return async (dispatch, getState) => {\n    const {\n      userInfo\n    } = getState().userLogin;\n\n    try {\n      dispatch({\n        type: ATTENDANCE_REQUEST\n      });\n      const config = {\n        credentials: \"include\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: `${userInfo.token}`\n        }\n      };\n      const {\n        data\n      } = await axios.get(\"/generate-code\", config);\n      dispatch({\n        type: ATTENDANCE_SUCCESS,\n        payload: data\n      });\n      console.log(data);\n    } catch (error) {\n      dispatch({\n        type: ATTENDANCE_FAIL,\n        payload: error.response.data.message\n      });\n    }\n  };\n};\n_c = GenerateCode;\nexport const getstudentDetail = user => {\n  return async (dispatch, getState) => {\n    const {\n      userInfo\n    } = getState().userLogin;\n    console.log(userInfo);\n\n    try {\n      dispatch({\n        type: STUDENT_DETAIL_REQUEST\n      });\n      const config = {\n        headers: {\n          authorization: `${userInfo.token}`\n        } // params: {\n        //     id: JSON.parse(sessionStorage.getItem(\"id\")),\n        // }\n\n      };\n      const {\n        data\n      } = await axios.get(`/get-student-detail/${user}`, config);\n      dispatch({\n        type: STUDENT_DETAIL_SUCCESS,\n        payload: data\n      });\n      console.log(data);\n    } catch (error) {\n      dispatch({\n        type: STUDENT_DETAIL_FAIL,\n        payload: error.response && error.response.data.message\n      });\n    }\n  };\n};\nexport const updateCheckout = () => {\n  return async (dispatch, getState) => {\n    const {\n      userInfo\n    } = getState().userLogin;\n\n    try {\n      dispatch({\n        type: CHECKOUT_UPDATE_REQUEST,\n        loading: true\n      });\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\",\n          authorization: `${userInfo.token}`\n        }\n      };\n      const {\n        data\n      } = await axios.put(\"/check-out\", config);\n      dispatch({\n        type: CHECKOUT_UPDATE_SUCCESS,\n        payload: data\n      });\n      console.log(data);\n    } catch (error) {\n      dispatch({\n        type: CHECKOUT_UPDATE_FAIL,\n        loading: false,\n        error: error.response && error.response.data.message\n      });\n    }\n  };\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"GenerateCode\");","map":{"version":3,"sources":["/home/asplap1462/Desktop/Documents/Tasks/task1/project-31/Frontend/src/redux/actions/attendance/attendanceaction.js"],"names":["axios","ATTENDANCE_REQUEST","ATTENDANCE_SUCCESS","ATTENDANCE_FAIL","STUDENT_DETAIL_REQUEST","STUDENT_DETAIL_SUCCESS","STUDENT_DETAIL_FAIL","CHECKOUT_UPDATE_REQUEST","CHECKOUT_UPDATE_SUCCESS","CHECKOUT_UPDATE_FAIL","GenerateCode","dispatch","getState","userInfo","userLogin","type","config","credentials","headers","authorization","token","data","get","payload","console","log","error","response","message","getstudentDetail","user","updateCheckout","loading","put"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport {\n    ATTENDANCE_REQUEST,\n    ATTENDANCE_SUCCESS,\n    ATTENDANCE_FAIL,\n    STUDENT_DETAIL_REQUEST,\n    STUDENT_DETAIL_SUCCESS,\n    STUDENT_DETAIL_FAIL,\n    CHECKOUT_UPDATE_REQUEST,\n    CHECKOUT_UPDATE_SUCCESS,\n    CHECKOUT_UPDATE_FAIL\n} from \"./actionTypes\";\n\n\nexport const GenerateCode = () => {\n    return async (dispatch, getState) => {\n        const { userInfo } = getState().userLogin;\n        try {\n            dispatch({\n                type: ATTENDANCE_REQUEST,\n            });\n\n            const config = {\n                credentials: \"include\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    authorization: `${userInfo.token}`,\n\n                },\n            };\n            const { data } = await axios.get(\n                \"/generate-code\",\n                config\n            );\n            dispatch({\n                type: ATTENDANCE_SUCCESS,\n                payload: data,\n            });\n            console.log(data)\n        } catch (error) {\n            dispatch({\n                type: ATTENDANCE_FAIL,\n                payload: error.response.data.message,\n            });\n        }\n    };\n};\n\nexport const getstudentDetail = (user) => {\n    return async (dispatch, getState) => {\n        const { userInfo } = getState().userLogin;\n        console.log(userInfo)\n        try {\n            dispatch({\n                type: STUDENT_DETAIL_REQUEST,\n            });\n            const config = {\n                headers: {\n                    authorization: `${userInfo.token}`,\n                },\n                // params: {\n                //     id: JSON.parse(sessionStorage.getItem(\"id\")),\n                // }\n            };\n            const { data } = await axios.get(`/get-student-detail/${user}`, config);\n            dispatch({\n                type: STUDENT_DETAIL_SUCCESS,\n                payload: data,\n            });\n            console.log(data)\n        } catch (error) {\n            dispatch({\n                type: STUDENT_DETAIL_FAIL,\n                payload: error.response && error.response.data.message,\n            });\n        }\n    };\n};\n\nexport const updateCheckout = () => {\n    return async (dispatch, getState) => {\n        const { userInfo } = getState().userLogin;\n        try {\n            dispatch({\n                type: CHECKOUT_UPDATE_REQUEST,\n                loading: true,\n            });\n\n            const config = {\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    authorization: `${userInfo.token}`,\n                },\n            };\n            const { data } = await axios.put(\n                \"/check-out\",\n\n                config\n            );\n\n            dispatch({\n                type: CHECKOUT_UPDATE_SUCCESS,\n                payload: data,\n            });\n            console.log(data)\n        } catch (error) {\n            dispatch({\n                type: CHECKOUT_UPDATE_FAIL,\n                loading: false,\n                error: error.response && error.response.data.message,\n            });\n        }\n    };\n};"]},"metadata":{},"sourceType":"module"}